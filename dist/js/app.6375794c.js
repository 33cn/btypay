(function(e){function t(t){for(var r,c,i=t[0],u=t[1],s=t[2],l=0,d=[];l<i.length;l++)c=i[l],o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},o={app:0},a=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0aa900c9":"05419232","chunk-116a5fc0":"bb8ff184","chunk-116cbccd":"0ecd708c","chunk-2d21e92b":"44f0060d","chunk-2edbae23":"0f6995f0","chunk-0f6755ad":"f4df04b0","chunk-6164f2cd":"2fbd91e3","chunk-a5f591ae":"a1f6b95b","chunk-3685a3a7":"e5a220a6","chunk-3b90181e":"67cbac3c","chunk-5a8d2509":"2247453f","chunk-5bf512e9":"c52743ad","chunk-a2408ccc":"ff6e524c","chunk-191a9ff8":"5bd032c1","chunk-3afbd422":"dd7a8afe","chunk-56755bf6":"20e9b32d","chunk-613ada1e":"4d16581b","chunk-d0142044":"7be15479","chunk-d96ba516":"6cb603a1","chunk-fcde961a":"bec91d36"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-0aa900c9":1,"chunk-116a5fc0":1,"chunk-116cbccd":1,"chunk-0f6755ad":1,"chunk-6164f2cd":1,"chunk-a5f591ae":1,"chunk-3685a3a7":1,"chunk-3b90181e":1,"chunk-5a8d2509":1,"chunk-5bf512e9":1,"chunk-191a9ff8":1,"chunk-3afbd422":1,"chunk-56755bf6":1,"chunk-613ada1e":1,"chunk-d0142044":1,"chunk-d96ba516":1,"chunk-fcde961a":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0aa900c9":"7081042d","chunk-116a5fc0":"492e84d2","chunk-116cbccd":"3af9d96c","chunk-2d21e92b":"31d6cfe0","chunk-2edbae23":"31d6cfe0","chunk-0f6755ad":"ec88d053","chunk-6164f2cd":"c1d54604","chunk-a5f591ae":"ff60e1d9","chunk-3685a3a7":"e7791dcc","chunk-3b90181e":"1e88e2d5","chunk-5a8d2509":"164059c4","chunk-5bf512e9":"094ac7b3","chunk-a2408ccc":"31d6cfe0","chunk-191a9ff8":"5122d964","chunk-3afbd422":"e5fe5881","chunk-56755bf6":"3e2e19ec","chunk-613ada1e":"2efdc015","chunk-d0142044":"890d8046","chunk-d96ba516":"675fda39","chunk-fcde961a":"e8905834"}[e]+".css",o=u.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete c[e],f.parentNode.removeChild(f),n(a)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){c[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e),s=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+c+")");a.type=r,a.request=c,n[1](a)}o[e]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/dist/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b5a":function(e,t,n){e.exports=n.p+"img/icon-arrow-recv.e5cdabb8.svg"},1:function(e,t){},2:function(e,t){},"2a74":function(e,t,n){"use strict";n.r(t);n("34a3"),n("f763");var r=n("d307"),c={};r.keys().forEach(function(e){"./index.js"!==e&&(c[e.replace(/(\.\/|\.js)/g,"")]=r(e).default)}),t["default"]=c},"2b08":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("6e6d"),c=new r["default"]},3:function(e,t){},3224:function(e,t,n){e.exports=n.p+"img/icon-arrow-error.1b23cd80.svg"},"3aff":function(e,t,n){},4:function(e,t){},"481f":function(e,t,n){e.exports=n.p+"img/icon-back.0d2fe0c4.svg"},"48ef":function(e,t,n){"use strict";var r=n("2b08"),c=n("d3cf");t["a"]={data:function(){return{TX_FLAG:{ALL:{label:"全部",val:0,name:"All"},SEND:{label:"转账",val:1,name:"Transfer"},RECV:{label:"收款",val:2,name:"Receipt"},EXC:{label:"兑换",val:3,name:"Convert",hideInMain:!0}},TX_DIRECTION:{DESC:0,ASC:1}}},methods:{castFlag2Typety:function(e){switch(e){case this.TX_FLAG.SEND.val:return c["b"].SendToAddress;case this.TX_FLAG.RECV.val:return c["b"].RecvWithAddress;case this.TX_FLAG.EXC.val:return c["b"];default:return-1}},createRawTradeSellMarketTx:function(e,t,n,r){return this.$chain33Sdk.createRawTradeSellMarketTx(e,t,n,r)},createRawTradeBuyMarketTx:function(e,t,n,r){return this.$chain33Sdk.createRawTradeBuyTx(e,t,n,r)},createTransaction:function(e,t){return this.$chain33Sdk.createTransaction(e,t)},createRawTransaction:function(e,t){return this.$chain33Sdk.createRawTransaction(e,t)},sendTransaction:function(e,t){return this.$chain33Sdk.sendTransaction(e,t)},getAddrBalance:function(e,t,n,r,c){return this.$chain33Sdk.getAddrBalance([e],t,n,r,c)},getAddrTx:function(e,t,n,c,o,a,i){return i&&r["a"].$emit("node-change",i),this.$chain33Sdk.getAddrTx({addr:e,count:n,direction:c,height:o,index:a,flag:t},i)},createRawTxGroup:function(e){return this.$chain33Sdk.createRawTxGroup(e)},getLastHeader:function(e){return this.$chain33Sdk.getLastHeader(e)}}}},"56d7":function(e,t,n){"use strict";n.r(t);n("dac5"),n("6e26"),n("9604"),n("df67");var r=n("6e6d"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],a=n("2b08"),i=n("e42a"),u={mounted:function(){var e=this;a["a"].$on("node-change",function(t){e.$chain33Sdk.httpProvider.setUrl(t)}),Object(i["a"])("mainNodeList").then(function(e){e.mainNodeList&&e.mainNodeList.length>0||chrome.storage.local.set({mainNodeList:[{url:"http://172.16.103.18:8801"}]},function(){})}),Object(i["a"])("parallelNodeList").then(function(e){e.parallelNodeList&&e.parallelNodeList.length>0||chrome.storage.local.set({parallelNodeList:[{name:"金比特",coin:"GBT",url:"http://172.16.103.24:8801"}]},function(){})}),Object(i["a"])("mainNode").then(function(t){t.mainNode?e.$store.commit("Account/UPDATE_CURRENT_MAIN",t.mainNode):chrome.storage.local.set({mainNode:{url:"http://172.16.103.18:8801"}},function(){})}),Object(i["a"])("paraNode").then(function(t){t.paraNode?e.$store.commit("Account/UPDATE_CURRENT_PARALLEL",t.paraNode):chrome.storage.local.set({paraNode:{url:"http://172.16.103.24:8801"}},function(){})})}},s=u,l=(n("6705"),n("6691")),d=Object(l["a"])(s,c,o,!1,null,null,null),f=d.exports,h=n("591a"),p=n("2a74");r["default"].use(h["b"]);var m=new h["b"].Store({modules:p["default"],strict:!1}),b=n("3bc2");r["default"].use(b["a"]);var g=new b["a"]({mode:"hash",base:"/dist/",routes:[{path:"/",component:function(){return n.e("chunk-5a8d2509").then(n.bind(null,"4bb2"))},children:[{path:"",name:"login",component:function(){return Promise.all([n.e("chunk-2edbae23"),n.e("chunk-6164f2cd")]).then(n.bind(null,"c23f"))}},{path:"importOrCreate",name:"ImportOrCreate",component:function(){return n.e("chunk-116a5fc0").then(n.bind(null,"7f46"))}},{path:"ImportWallet",name:"ImportWallet",component:function(){return Promise.all([n.e("chunk-2edbae23"),n.e("chunk-a5f591ae")]).then(n.bind(null,"cd37"))}},{path:"CreateWallet",name:"CreateWallet",component:function(){return n.e("chunk-fcde961a").then(n.bind(null,"4881"))}},{path:"WordsShow",name:"WordsShow",component:function(){return n.e("chunk-0aa900c9").then(n.bind(null,"b3c2"))}},{path:"WordsConfirm",name:"WordsConfirm",component:function(){return Promise.all([n.e("chunk-2edbae23"),n.e("chunk-0f6755ad")]).then(n.bind(null,"0205"))}}]},{path:"/WalletIndex",name:"WalletIndex",component:function(){return n.e("chunk-d96ba516").then(n.bind(null,"e1dd"))}},{path:"/node",name:"node",component:function(){return n.e("chunk-d0142044").then(n.bind(null,"539e"))}},{path:"/coin",name:"bty",component:function(){return Promise.all([n.e("chunk-a2408ccc"),n.e("chunk-56755bf6")]).then(n.bind(null,"c837"))}},{path:"/coin/receipt",name:"receipt",component:function(){return Promise.all([n.e("chunk-a2408ccc"),n.e("chunk-613ada1e")]).then(n.bind(null,"2e23"))}},{path:"/coin/transfer",name:"transfer",component:function(){return n.e("chunk-3685a3a7").then(n.bind(null,"5acc"))}},{path:"/coin/convert",name:"convert",component:function(){return n.e("chunk-3b90181e").then(n.bind(null,"9ca9"))}},{path:"/coin/address",name:"address",component:function(){return n.e("chunk-116cbccd").then(n.bind(null,"8415"))}},{path:"/coin/address/addAddress",name:"addAddress",component:function(){return n.e("chunk-5bf512e9").then(n.bind(null,"9ff1"))}},{path:"/coin/detail/:hash",name:"detail",component:function(){return Promise.all([n.e("chunk-a2408ccc"),n.e("chunk-191a9ff8")]).then(n.bind(null,"cfbb"))}},{path:"/coin/convertDetail/:hash",name:"convertDetail",component:function(){return Promise.all([n.e("chunk-a2408ccc"),n.e("chunk-3afbd422")]).then(n.bind(null,"81c8"))}},{path:"*",redirect:"ImportOrCreate"}]}),v=(n("3aff"),n("20ad")),y=n.n(v),A=(n("8720"),n("9090")),T=function(e){var t=e;"object"===Object(A["a"])(e)&&(t=e.error||e.Error),Object(v["Notification"])({message:t||"error",customClass:"error-notification",duration:3e3})},x=function(e){Object(v["Notification"])({message:e||"error",customClass:"success-notification",duration:3e3})},k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.icon?r("img",{staticClass:"svg-icon",attrs:{src:n("c844")("./icon-"+e.icon+".svg")}}):e._e()},E=[],w={props:["icon"]},N=w,C=Object(l["a"])(N,k,E,!1,null,null,null),O=C.exports,S=n("8332"),P=n("98d9"),D=n.n(P);n.e("chunk-2d21e92b").then(n.bind(null,"d5ae")),r["default"].config.productionTip=!1,r["default"].use(y.a),r["default"].use({install:function(e){e.prototype.$serverErrNotify=T,e.prototype.$serverSucNotify=x,e.prototype.$chain33Sdk=new D.a("http://172.16.103.18:8801",function(e){if(null===e.error)return e.result;throw console.error(e.error),new Error(e.error)})}}),r["default"].mixin({components:{SvgIcon:O}}),r["default"].mixin(S["a"]),new r["default"]({router:g,store:m,render:function(e){return e(f)}}).$mount("#app")},"62e2":function(e,t,n){e.exports=n.p+"img/icon-refresh.9685a59b.svg"},6705:function(e,t,n){"use strict";var r=n("d2fb"),c=n.n(r);c.a},"6c2e":function(e,t,n){"use strict";n.r(t);var r={recordData:[],recordDetail:{},assetType:""},c={LOADING_RECORDS:function(e,t){e.recordData=e.recordData.concat(t)},UPDATE_RECORDS:function(e,t){e.recordData=t},ASSET_TYPE:function(e,t){e.assetType=t},RECORD_DETAIL:function(e,t){e.recordDetail=t}};t["default"]={namespaced:!0,state:r,mutations:c}},"7d0a":function(e,t,n){e.exports=n.p+"img/icon-warning.558f0087.svg"},8332:function(e,t,n){"use strict";n("2338"),n("fb37"),n("7364"),n("0eb5"),n("a4c5"),n("f763");var r=n("a506"),c=n("48ef"),o=n("19a0"),a=n("591a"),i=n("98d4"),u=n("ab1f");var s=function(){function e(t,n,c){var o=this;Object(i["a"])(this,e),Object(r["a"])(this,"DB",null),Object(r["a"])(this,"DBName",""),Object(r["a"])(this,"TableName",""),this.delDB(t),this.DBName=t,this.TableName=n;var a=window.indexedDB.open(t);a.onsuccess=function(e){o.DB=e.target.result,console.log("init db success")},a.onupgradeneeded=function(e){o.DB=e.target.result,o.createTable(n,c),console.log("db upgrade success")},a.onerror=function(e){console.log("init db error")}}return Object(u["a"])(e,[{key:"createTable",value:function(e,t){if(this.DB&&!this.DB.objectStoreNames.contains(e)&&t.keyPath){var n=this.DB.createObjectStore(e,t.keyPath);if(t.index){var r=!0,c=!1,o=void 0;try{for(var a,i=t.index[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var u=a.value;n.createIndex(u.name,u.key,u.payload)}}catch(s){c=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}}console.log("table create success")}}},{key:"insert",value:function(e,t){if(this.DB){var n=this.DB.transaction([e],"readwrite").objectStore(e).add(t);n.onsuccess=function(e){console.log("insert success")},n.onerror=function(e){console.log("insert error")}}}},{key:"selectByPage",value:function(e,t,n,r){var c=null;0!==t&&(c=IDBKeyRange.upperBound(t));var o=this.DB.transaction([e]).objectStore(e),a=o.openCursor(c,"prev");a.onsuccess=function(e){var t=e.target.result,c=[];t&&0!==n?(c.push(t.value),t.continue(),n--):(r(c),console.log("end"))},a.onerror=function(e){console.log("cursor error")}}},{key:"getCursorByIndex",value:function(e,t,n,r,c){var o=this.DB.transaction([e]).objectStore(e),a=o.index(t);if(a){var i=a.openCursor(IDBKeyRange.only(n),"prev"),u=!0;i.onsuccess=function(e){var t=e.target.result;u&&r?(t.advance(r),u=!1):c(t)}}}},{key:"update",value:function(){}},{key:"del",value:function(){}},{key:"delDB",value:function(e){window.indexedDB.deleteDatabase(e),console.log("db has deleted")}},{key:"close",value:function(){this.DB.close(),console.log("db has closed")}}]),e}(),l=n("d3cf"),d=n("e42a");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(r["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=Object(a["a"])("Account"),m=p.mapState,b=!1,g="WalletDB",v="txs",y={keyPath:{keyPath:"id",autoIncrement:!0},index:[{name:"symbol",key:"symbol",payload:{unique:!1}},{name:"symbol_typeTy",key:["symbol","typeTy"],payload:{unique:!1}}]},A=new s(g,v,y);function T(){return new Promise(function(e){b?e(window):window.chrome.runtime.getBackgroundPage(function(t){e(t)})})}t["a"]={mixins:[c["a"]],computed:h({},m(["currentAccount","currentMain","currentParallel"])),methods:{newMnemonic:function(e){return 1===e?o["seed"].newMnemonicInCN():o["seed"].newMnemonicInEN()},createHDWallet:function(e){console.log(b);var t=o["seed"].newWalletFromMnemonic(e);return console.log(t),Object(d["b"])("loginTime",(new Date).valueOf()).then(function(e){console.log(e)}),b?window.myChain33WalletInstance=t:T().then(function(e){e.myChain33WalletInstance=t,console.log("createHDWallet"),console.log(e)}),t},getWallet:function(){return new Promise(function(e){console.log("getWallet"),console.log(b),b?e(window.myChain33WalletInstance):T().then(function(t){console.log(t),console.log(t.myChain33WalletInstance),e(t.myChain33WalletInstance)})})},newAccount:function(e){var t=this;return this.getWallet().then(function(n){console.log("newAccount"),console.log(n);var r=n.newAccount(e);t.$store.commit("Account/UPDATE_ACCOUNTS",n.accountMap),t.setCurrentAccount(r),Object(d["b"])("accountIndexList",n.accountIndexList)})},recoverAccount:function(){var e=this;this.getWallet().then(function(t){window.chrome.storage.local.get(["accountIndexList"],function(n){console.log(n),n.accountIndexList?(t.recoverAccount(n.accountIndexList),console.log("wallet.accountMap"),console.log(t.accountMap),e.$store.commit("Account/UPDATE_ACCOUNTS",t.accountMap),Object(d["a"])(["currentAccountIndex"]).then(function(n){var r=t.accountMap[n["currentAccountIndex"]];r||(r=t.firstAccount),e.setCurrentAccount(r)})):e.newAccount("Account 1")})})},setCurrentAccount:function(e){var t=this;return T().then(function(n){return n.currentAccount=e,t.$store.commit("Account/UPDATE_CURRENTACCOUNT",e),e}).then(function(e){Object(d["b"])("currentAccountIndex",e.index)})},getCurrentAccount:function(){var e=this;return console.log("getCurrentAccount"),T().then(function(t){return console.log("win"),console.log(t),e.$store.commit("Account/UPDATE_CURRENTACCOUNT",t.currentAccount),t.currentAccount})},logout:function(){var e=this;T().then(function(t){t.myChain33WalletInstance=null,t.currentAccount=null,e.$store.commit("Account/UPDATE_CURRENTACCOUNT",null),e.$router.push("login")})},signRawTransaction:function(e,t){return o["sign"].signRawTransaction(e,t)},sendToAddr:function(e,t){var n=this,r=e.privateKey,c=e.to,a=e.amount,i=e.fee,u=e.note;return console.log({privateKey:r,to:c,amount:a,fee:i,note:u}),this.createRawTransaction({to:c,amount:a,fee:i,note:u},t).then(function(e){return console.log(e),o["sign"].signRawTransaction(e,r)}).then(function(e){return console.log(e),n.sendTransaction(e,t)})},refreshMainAsset:function(){var e=this;console.log(this.currentAccount);var t=this.currentAccount.address,n=this.currentMain.url;return new Promise(function(r,c){e.getAddrBalance(t,"coins",n).then(function(t){var n={amt:t[0].balance/1e8};e.$store.commit("Account/UPDATE_MAIN_ASSET",n),e.$store.commit("Account/UPDATE_MAIN_CONNECT",2),r("success")}).catch(function(t){e.$store.commit("Account/UPDATE_MAIN_ASSET",{amt:0,price:10}),e.$store.commit("Account/UPDATE_MAIN_CONNECT",3),c(t),console.log(t)})})},refreshParallelAsset:function(){var e=this,t=this.currentAccount.address,n=this.currentParallel.url;return new Promise(function(r,c){e.getAddrBalance(t,"coins",n).then(function(t){var n={amt:t[0].balance/1e8};e.$store.commit("Account/UPDATE_PARALLEL_ASSET",n),e.$store.commit("Account/UPDATE_PARALLEL_CONNECT",2),r("success")}).catch(function(t){e.$store.commit("Account/UPDATE_PARALLEL_ASSET",{name:"GBT",amt:0,price:10}),e.$store.commit("Account/UPDATE_PARALLEL_CONNECT",3),c(t),console.log(t)})})},getTxCursor:function(e,t,n){},initTxList:function(e){var t=this,n="bty"===e?this.currentMain:this.currentParallel,r="bty"===e?"Account/UPDATE_CURRENT_MAIN":"Account/UPDATE_CURRENT_PARALLEL",c=n.coin,o=100;this.getAddrTx(this.currentAccount.address,this.TX_FLAG.ALL.val,o,this.TX_DIRECTION.ASC,n.txHeight,n.txIndex).then(function(a){if(a.txs){var i=!0,u=!1,s=void 0;try{for(var l,d=a.txs[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var f=l.value;t.filterAndSaveTx(c,r,f)}}catch(h){u=!0,s=h}finally{try{i||null==d.return||d.return()}finally{if(u)throw s}}a.txs.length===o&&t.initTxList(e)}else t.getLastHeader(n.url).then(function(e){t.$store.commit(r,{txHeight:e.height,txIndex:e.txCount})})})},getTxList:function(e,t,n,r,c){var o=this,a="bty"===e?this.currentMain:this.currentParallel,i="bty"===e?"Account/UPDATE_CURRENT_MAIN":"Account/UPDATE_CURRENT_PARALLEL",u=a.coin,s=-1===t?y.index[0].name:y.index[1].name,l=-1===t?u:[u,t];r?this.getAddrTx(this.currentAccount.address,this.TX_FLAG.ALL.val,0,this.TX_DIRECTION.ASC,a.txHeight,a.txIndex,a.url).then(function(e){if(e.txs){var t=!0,r=!1,a=void 0;try{for(var d,f=e.txs[Symbol.iterator]();!(t=(d=f.next()).done);t=!0){var h=d.value;o.filterAndSaveTx(u,i,h)}}catch(p){r=!0,a=p}finally{try{t||null==f.return||f.return()}finally{if(r)throw a}}}A.getCursorByIndex(v,s,l,n,c)}):A.getCursorByIndex(v,s,l,n,c)},filterAndSaveTx:function(e,t,n){var r=null,c=n.height,o=n.index;if("coins"==n.tx.execer&&"transfer"==n.actionName||"withdraw"==n.actionName){console.log(n);var a=n.amount,i=n.tx.to,u=n.fromAddr,s=n.txHash,d=n.blockTime,f=n.tx.fee,h=n.tx.execer,p=n.actionName,m=n.receipt.ty,b="";n.tx&&n.tx.payload&&n.tx.Value&&n.tx.Value.Transfer&&(b=n.tx.payload.Value.Transfer.note);var g="unKnow";if(1===m){var y=n.receipt.logs;if(y){var T=!0,x=!1,k=void 0;try{for(var E,w=y[Symbol.iterator]();!(T=(E=w.next()).done);T=!0){var N=E.value;if(1===N.ty){g=N.log;break}}}catch(N){x=!0,k=N}finally{try{T||null==w.return||w.return()}finally{if(x)throw k}}}}r=new l["a"](e,this.currentAccount.address,c,o,d,i,u,s,a,f,h,p,m,b,g),A.insert(v,r)}else"user.p.gbttest.trade"==n.tx.execer&&console.log(n);return this.$store.commit(t,{txHeight:c,txIndex:o}),r}},filters:{numFilter:function(e,t){if(e||0==e){var n=parseFloat(e),r=null;return r=4==t?Math.floor(1e4*n)/1e4:Math.floor(100*n)/100,parseFloat(r).toFixed(t)}}}}},"88ec":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return u});n("2338"),n("f763"),n("fb37"),n("7c56"),n("34a3");var r=n("9090"),c=(n("a506"),n("0857"),n("b745"),n("25f0"));function o(e){var t=e.slice(0);return console.log(t),t.sort(function(){return Math.random()-.5})}function a(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)}function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=0;r<e.length;r++)"string"===typeof t&&"undefined"===typeof e[r][t]&&(a(e[r])||(e[r]={value:e[r]}),e[r][t]=n);return e}function u(e,t){var n={};n="object"===Object(r["a"])(e)&&e.constructor===Date?e:new Date(e?1e3*parseInt(e):(new Date).getTime());var c={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),c)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?c[o]:("00"+c[o]).substr((""+c[o]).length)));return t}c["config"]({number:"Fraction"})},a131:function(e,t,n){e.exports=n.p+"img/icon-arrow-mining.f007ffe4.svg"},b162:function(e,t,n){e.exports=n.p+"img/icon-bty.fb85caaa.svg"},bee9:function(e,t,n){e.exports=n.p+"img/icon-refresh-active.081eff6f.svg"},bef2:function(e,t,n){e.exports=n.p+"img/icon-arrow-send.9087e250.svg"},c1e6:function(e,t,n){"use strict";n.r(t);n("7364");var r={password:"11111111",seed:"film finger voyage during alter chat sentence hundred connect riot doctor cash sing nut chat",accountMap:{},currentAccount:{address:"1GUhbeySSNywQcGcsjhPPXMX7iRZ6P6ovb",base58PrivateKey:"xprvA3b4zNsRHPgvzSydbftV9acbtKhNui8P69E7B7UNmJCKfWJZ5biLtcnHC9gYWRdGufyhehMcFcaPYpCgNRYznSCBv1gxxGd3xUYAABibgxQ",hexPrivateKey:"0x76b33cfa093226848e1e979c649778b4a24e040a97bb099007f73afb54b4c2fb",index:0,name:"创世地址"},mainIsConnected:1,parallelIsConnected:1,mainAsset:{amt:0,price:10},parallelAsset:{name:"GBT",amt:0,price:10},mainNode:[{index:0,url:"http://172.16.103.18:8801",txHeight:-1,txIndex:0,coin:"BTY"}],currentMain:{index:0,url:"http://172.16.103.18:8801",txHeight:-1,txIndex:0,coin:"BTY"},parallelNode:[{index:0,name:"金比特",coin:"GBT",url:"http://172.16.103.24:8801",txHeight:-1,txIndex:0}],currentParallel:{index:0,name:"金比特",coin:"GBT",url:"http://172.16.103.24:8801",txHeight:-1,txIndex:0}},c={UPDATE_MAIN_CONNECT:function(e,t){e.mainIsConnected=t},UPDATE_PARALLEL_CONNECT:function(e,t){e.parallelIsConnected=t},UPDATE_PASSWORD:function(e,t){e.password=t},UPDATE_SEED:function(e,t){e.seed=t},UPDATE_ACCOUNTS:function(e,t){e.accountMap=t},UPDATE_CURRENTACCOUNT:function(e,t){e.currentAccount=t},UPDATE_MAIN_NODE:function(e,t){e.mainNode.push(t)},UPDATE_CURRENT_MAIN:function(e,t){var n=t.index,r=t.url,c=t.txHeight,o=t.txIndex,a=t.coin,i=e.currentMain.index;n&&(e.mainNode[i].index=n),r&&(e.mainNode[i].url=r),c&&(e.mainNode[i].txHeight=c),o&&(e.mainNode[i].txIndex=o),a&&(e.mainNode[i].coin=a),e.currentMain=e.mainNode[i]},UPDATE_PARALLEL_NODE:function(e,t){var n=JSON.parse(JSON.stringify(e.parallelNode));n.push(t),e.parallelNode=n},UPDATE_CURRENT_PARALLEL:function(e,t){var n=t.index,r=t.url,c=t.txHeight,o=t.txIndex,a=t.coin,i=JSON.parse(JSON.stringify(e.parallelNode)),u=e.currentParallel.index;n&&(i[u].index=n),r&&(i[u].url=r),c&&(i[u].txHeight=c),o&&(i[u].txIndex=o),a&&(i[u].coin=a),e.parallelNode=i,e.currentParallel=i[u]},UPDATE_MAIN_ASSET:function(e,t){var n=t.amt,r=t.price;(n||0==n)&&(e.mainAsset.amt=n),r&&(e.mainAsset.price=r)},UPDATE_PARALLEL_ASSET:function(e,t){var n=t.name,r=t.amt,c=t.price;n&&(e.parallelAsset.name=n),(r||0==r)&&(e.parallelAsset.amt=r),c&&(e.parallelAsset.price=c)}};t["default"]={namespaced:!0,state:r,mutations:c}},c844:function(e,t,n){var r={"./icon-arrow-error.svg":"3224","./icon-arrow-mining.svg":"a131","./icon-arrow-recv.svg":"0b5a","./icon-arrow-send.svg":"bef2","./icon-back.svg":"481f","./icon-bty.svg":"b162","./icon-copy.svg":"c970","./icon-refresh-active.svg":"bee9","./icon-refresh.svg":"62e2","./icon-warning.svg":"7d0a"};function c(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(r)},c.resolve=o,e.exports=c,c.id="c844"},c970:function(e,t,n){e.exports=n.p+"img/icon-copy.642fbb69.svg"},d2fb:function(e,t,n){},d307:function(e,t,n){var r={"./Account.js":"c1e6","./Records.js":"6c2e","./index.js":"2a74"};function c(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(r)},c.resolve=o,e.exports=c,c.id="d307"},d3cf:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n("d4d5");var r=n("98d4"),c=n("a506"),o=n("88ec"),a=.001,i={Other:0,Generated:1,SendToAddress:2,SendToMining:3,RecvWithAddress:4,RecvFromMining:5,SendToSelf:6,BackDecl:7,TyFailure:8,OpenTicket:9,CloseTicket:10,Exchange:11},u="16htvcBNSEA7fZhAdLJphDwQRQJaHpyHTp";var s=function e(t,n,a,s,l,d,f,h,p,m,b,g,v,y,A){Object(r["a"])(this,e),Object(c["a"])(this,"typeTy",""),Object(c["a"])(this,"amountChangeType","decrease"),Object(c["a"])(this,"strToAddrLabel",""),Object(c["a"])(this,"strFromAddrLabel",""),this.symbol=t,this.height=a,this.txIndex=s,this.hash=h,this.hashShort="".concat(h.slice(0,5),"****").concat(h.slice(-5)),this.strTimeData=Object(o["c"])(l,"yyyy-MM-dd hh:mm:ss"),this.strAmount=Number(p).divide(Math.pow(10,8)).toFixed(4),this.strToAddress=d,this.strFromAddress=f,this.strToAddrShort="".concat(d.slice(0,7),"****").concat(d.slice(-4)),this.strFromAddrShort="".concat(f.slice(0,7),"****").concat(f.slice(-4)),this.note=y,this.execer=b,this.actionName=g,this.fee=Number(m).divide(Math.pow(10,8)).toFixed(4),this.strError=A;var T=b.indexOf("user.");2!==v&&"none"!==b&&0!==T?this.typeTy=i.TyFailure:"coins"!==b&&"ticket"!==b?this.typeTy=i.Other:"ticket"===b&&"withdraw"===g?this.typeTy=i.RecvFromMining:"ticket"===b&&"miner"===g?this.typeTy=i.Generated:"ticket"===b&&"open"===g?this.typeTy=i.OpenTicket:"ticket"===b&&"close"===g?this.typeTy=i.CloseTicket:"coins"===b&&"transfer"===g&&d===u?this.typeTy=i.SendToMining:this.strToAddrLabel&&this.strFromAddrLabel?this.typeTy=i.SendToSelf:n===f?this.typeTy=i.SendToAddress:n===d?this.typeTy=i.RecvWithAddress:(g="withdraw")?(console.log("xxx"),this.typeTy=i.Exchange):this.typeTy=i.Other,this.typeTy===i.Generated||this.typeTy===i.RecvWithAddress||this.typeTy===i.SendToSelf||this.typeTy===i.RecvFromMining?(this.strAmount="".concat(this.strAmount),this.amountChangeType="increase"):(this.strAmount="".concat(this.strAmount),this.amountChangeType="decrease"),this.typeTy===i.RecvWithAddress||this.typeTy===i.SendToSelf?this.recordType="recv":this.typeTy===i.SendToAddress?this.recordType="send":this.typeTy===i.Generated||this.typeTy===i.OpenTicket||this.typeTy===i.CloseTicket||this.typeTy===i.SendToMining||this.typeTy===i.RecvFromMining?this.recordType="mining":this.recordType="error",d===u&&(this.strToAddress="(合约)".concat(d)),f===u&&(this.strFromAddress="(合约)".concat(f))}},e42a:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return o});var r=n("a506");function c(e){return new Promise(function(t){window.chrome.storage.local.get(e,function(e){t(e)})})}function o(e,t){return new Promise(function(n){window.chrome.storage.local.set(Object(r["a"])({},e,t),function(){n("success")})})}}});
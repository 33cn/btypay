(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3685a3a7"],{2136:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assetBack_container"},[n("p",{on:{click:e.backHandle}},[n("img",{attrs:{src:r("ae5c"),alt:""}})]),n("p",[e._v(e._s(e.title))])])},s=[],o={props:{title:{type:String,require:!0}},methods:{backHandle:function(){this.title.indexOf("转账")>-1?"bty"==this.$store.state.Records.assetType?this.$router.push({path:"/coin?coin=bty"}):this.$router.push({path:"/coin?coin=game"}):this.$router.go(-1)}}},a=o,i=(r("f949"),r("6691")),c=Object(i["a"])(a,n,s,!1,null,null,null);t["a"]=c.exports},"5acc":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"transfer_container"},[n("asset-back",{attrs:{title:"bty"==e.coin?"BTY转账":e.parallelAsset.name+"转账"}}),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{label:"转账金额",prop:"num"}},[n("el-input",{attrs:{type:"number",placeholder:"请输入金额","auto-complete":"on"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}}),"bty"==e.coin?n("p",{staticClass:"balance"},[e._v("余额"+e._s(e._f("numFilter")(e.mainAsset.amt,2))+"BTY")]):e._e(),"game"==e.coin?n("p",{staticClass:"balance"},[e._v("余额"+e._s(e._f("numFilter")(e.parallelAsset.amt,2))+e._s(e.parallelAsset.name))]):e._e(),"bty"==e.coin?n("p",{staticClass:"mentionAll",on:{click:function(t){e.form.num=e.mainAsset.amt}}},[e._v("全部提取")]):e._e(),"game"==e.coin?n("p",{staticClass:"mentionAll",on:{click:function(t){e.form.num=e.parallelAsset.amt}}},[e._v("全部提取")]):e._e()],1),n("el-form-item",{attrs:{label:"收款地址",prop:"address"}},[n("el-input",{attrs:{placeholder:"bty"==e.coin?"请输入BTY地址":"请输入"+e.parallelAsset.name+"地址","auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),n("img",{staticClass:"add",attrs:{src:r("fbc1"),alt:""},on:{click:function(t){return e.$router.push({name:"address"})}}})],1),n("el-form-item",{attrs:{label:"备注",prop:"comment"}},[n("el-input",{attrs:{type:"text",placeholder:"选填"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",e._n(t))},expression:"form.comment"}}),n("div",{staticClass:"fee"},[n("p",[e._v("矿工费")]),n("p",[e._v("0.001BTY")])])],1)],1),n("p",{on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("转账"+e._s(e.isCreating?"...":""))])],1)},s=[],o=(r("2338"),r("f763"),r("fb37"),r("a506")),a=r("2136"),i=r("591a"),c=r("8332"),l=r("48ef");function u(e,t){window.chrome.runtime.sendMessage({action:e,payload:t})}var m={data:function(){return{actionID:""}},mounted:function(){this.$route.query.actionID&&(this.actionID=this.$route.query.actionID)},methods:{replyBackground:function(e){switch(this.actionID){case"send-to-address":u("reply-background-send-to-address",e);break;case"sign-tx":u("reply-background-sign-tx",e);break}setTimeout(function(){try{window.chrome.tabs.getCurrent(function(e){e&&e.id&&window.chrome.tabs.remove(e.id)})}catch(e){console.error(e)}},1e3)},replyReject:function(){this.replyBackground({error:"userReject",result:null})}}},A=r("d3cf");r("2b08");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=Object(i["a"])("Account"),g=d.mapState,h={mixins:[c["a"],l["a"],m],components:{AssetBack:a["a"]},data:function(){var e=function(e,t,r){if(!t)return r(new Error("转账金额不能为空"));setTimeout(function(){isNaN(parseFloat(t))?r(new Error("请输入数字值")):parseFloat(t)<0?r(new Error("金额需大于零")):r()},1e3)};return{isCreating:!1,coin:"",form:{num:null,address:"",comment:""},rules:{num:[{required:!0,message:"请输入转账金额",trigger:"blur"},{validator:e,trigger:"blur"}],address:[{required:!0,message:"请输入转账地址",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.isCreating||(this.isCreating=!0,this.$refs[e].validate(function(e){if(!e)return t.isCreating=!1,console.log("error submit!!"),!1;var r="bty"==t.coin?t.currentMain.url:"game"==t.coin?t.currentParallel.url:"";console.log("submit!!"+r),t.sendToAddr({privateKey:t.currentAccount.hexPrivateKey,to:t.form.address,amount:parseInt(1e8*t.form.num),fee:parseInt(1e8*A["c"]),note:t.form.comment+""},r).then(function(e){console.log(e),t.isCreating=!1,t.$alert("请关注您的资金变动。","转账成功",{confirmButtonText:"知道了",closeOnClickModal:!0,center:!0,showClose:!1}),t.form.num=null,t.form.address="",t.form.comment="",t.replyBackground(e)}).catch(function(e){t.isCreating=!1,console.log(e),t.$message.error("发生错误")})}))},resetForm:function(e){this.$refs[e].resetFields()}},computed:p({},g(["accountMap","currentAccount","mainAsset","parallelAsset","currentMain","currentParallel"])),mounted:function(){this.$route.query.coin&&(this.coin=this.$route.query.coin,console.log(this.coin)),this.coin=this.$store.state.Records.assetType,this.form.address=this.$route.query.address||"",this.refreshMainAsset(),this.refreshParallelAsset()}},b=h,y=(r("bc20"),r("6691")),w=Object(y["a"])(b,n,s,!1,null,null,null);t["default"]=w.exports},"692c":function(e,t,r){},9499:function(e,t,r){},ae5c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAiBAMAAADfS4Y4AAAAJ1BMVEVHcEz/eFr/eFr/d1j/eFr/eFr/d1j/eFr/eVn/d1r/eFr/d1n/eFpskFfSAAAADHRSTlMAd38T3cwf7TZso0Ru8CX/AAAArElEQVQoz2NggIB2TwYMwFFzZgGGYPuZM6exKDxzEF0w/cyZM8FoYmxAhUcN0ARTsCn0OXPmCDaFztgUJqAJmgAVuqGJMcdgUWgKVFiGReGZRUpKioJwIMHAegYTMLBjE2TCJsiITRDkdAxBsCePQu1VAgNtiC/PTGDAEh4nGbAECKZSUIhgxBAzSKkAA5YwwVQKChQFbEoPEa+0AJtSzBRmihlPQKXhixnwAwDzTp4V4FaHQwAAAABJRU5ErkJggg=="},bc20:function(e,t,r){"use strict";var n=r("692c"),s=r.n(n);s.a},f949:function(e,t,r){"use strict";var n=r("9499"),s=r.n(n);s.a},fbc1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAFVBMVEX/eVpHcEz/eFn/dVn/eVr/eFr/d1rwbGQ+AAAAB3RSTlPIAGQ/46E+s7X8NAAAADBJREFUCNdjEAQCA0MQyQAiFBSpxDRSUlIKCQISygwg4OIAppJgomrUtQ2NmQD2EAC5bBIP575xEAAAAABJRU5ErkJggg=="}}]);